<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
  <head>
    <meta charset="utf-8" />
    <meta name="generator" content="pandoc" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, user-scalable=yes"
    />
    <title>git-cheat-sheet-zh</title>
    <style type="text/css">
      code {
        white-space: pre-wrap;
      }
      span.smallcaps {
        font-variant: small-caps;
      }
      span.underline {
        text-decoration: underline;
      }
      div.column {
        display: inline-block;
        vertical-align: top;
        width: 50%;
      }
    </style>
    <style type="text/css">
      a.sourceLine {
        display: inline-block;
        line-height: 1.25;
      }
      a.sourceLine {
        pointer-events: none;
        color: inherit;
        text-decoration: inherit;
      }
      a.sourceLine:empty {
        height: 1.2em;
      }
      .sourceCode {
        overflow: visible;
      }
      code.sourceCode {
        white-space: pre;
        position: relative;
      }
      div.sourceCode {
        margin: 1em 0;
      }
      pre.sourceCode {
        margin: 0;
      }
      @media screen {
        div.sourceCode {
          overflow: auto;
        }
      }
      @media print {
        code.sourceCode {
          white-space: pre-wrap;
        }
        a.sourceLine {
          text-indent: -1em;
          padding-left: 1em;
        }
      }
      pre.numberSource a.sourceLine {
        position: relative;
        left: -4em;
      }
      pre.numberSource a.sourceLine::before {
        content: attr(title);
        position: relative;
        left: -1em;
        text-align: right;
        vertical-align: baseline;
        border: none;
        pointer-events: all;
        display: inline-block;
        -webkit-touch-callout: none;
        -webkit-user-select: none;
        -khtml-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
        padding: 0 4px;
        width: 4em;
        color: #aaaaaa;
      }
      pre.numberSource {
        margin-left: 3em;
        border-left: 1px solid #aaaaaa;
        padding-left: 4px;
      }
      div.sourceCode {
      }
      @media screen {
        a.sourceLine::before {
          text-decoration: underline;
        }
      }
      code span.al {
        color: #ff0000;
        font-weight: bold;
      } /* Alert */
      code span.an {
        color: #60a0b0;
        font-weight: bold;
        font-style: italic;
      } /* Annotation */
      code span.at {
        color: #7d9029;
      } /* Attribute */
      code span.bn {
        color: #40a070;
      } /* BaseN */
      code span.bu {
      } /* BuiltIn */
      code span.cf {
        color: #007020;
        font-weight: bold;
      } /* ControlFlow */
      code span.ch {
        color: #4070a0;
      } /* Char */
      code span.cn {
        color: #880000;
      } /* Constant */
      code span.co {
        color: #60a0b0;
        font-style: italic;
      } /* Comment */
      code span.cv {
        color: #60a0b0;
        font-weight: bold;
        font-style: italic;
      } /* CommentVar */
      code span.do {
        color: #ba2121;
        font-style: italic;
      } /* Documentation */
      code span.dt {
        color: #902000;
      } /* DataType */
      code span.dv {
        color: #40a070;
      } /* DecVal */
      code span.er {
        color: #ff0000;
        font-weight: bold;
      } /* Error */
      code span.ex {
      } /* Extension */
      code span.fl {
        color: #40a070;
      } /* Float */
      code span.fu {
        color: #06287e;
      } /* Function */
      code span.im {
      } /* Import */
      code span.in {
        color: #60a0b0;
        font-weight: bold;
        font-style: italic;
      } /* Information */
      code span.kw {
        color: #007020;
        font-weight: bold;
      } /* Keyword */
      code span.op {
        color: #666666;
      } /* Operator */
      code span.ot {
        color: #007020;
      } /* Other */
      code span.pp {
        color: #bc7a00;
      } /* Preprocessor */
      code span.sc {
        color: #4070a0;
      } /* SpecialChar */
      code span.ss {
        color: #bb6688;
      } /* SpecialString */
      code span.st {
        color: #4070a0;
      } /* String */
      code span.va {
        color: #19177c;
      } /* Variable */
      code span.vs {
        color: #4070a0;
      } /* VerbatimString */
      code span.wa {
        color: #60a0b0;
        font-weight: bold;
        font-style: italic;
      } /* Warning */
    </style>
  </head>
  <body>
    <h1 id="git-cheat-sheet-中文版-awesome">
      Git Cheat Sheet 中文版
      <a href="https://github.com/sindresorhus/awesome"
        ><img
          src="https://cdn.rawgit.com/sindresorhus/awesome/d7305f38d29fed78fa85652e3a63e154dd8e8829/media/badge.svg"
          alt="Awesome"
      /></a>
    </h1>
    <hr />
    <p align="center">
      <img alt="Git" src="../Img/git-logo.png" height="190" width="455" />
    </p>
    <hr />
    <h1 id="other-available-languages">Other Available Languages:</h1>
    <ol type="1">
      <li>
        <a
          href="https://github.com/arslanbilal/git-cheat-sheet/blob/master/other-sheets/git-cheat-sheet-ar.md"
          >Arabic Git Cheat Sheet</a
        >
      </li>
      <li>
        <a
          href="https://github.com/arslanbilal/git-cheat-sheet/blob/master/README.md"
          >English Git Cheat Sheet</a
        >
      </li>
      <li>
        <a
          href="https://github.com/arslanbilal/git-cheat-sheet/blob/master/other-sheets/git-cheat-sheet-hi.md"
          >Hindi Git Cheat Sheet</a
        >
      </li>
      <li>
        <a
          href="https://github.com/arslanbilal/git-cheat-sheet/blob/master/other-sheets/git-cheat-sheet-tr.md"
          >Turkish Git Cheat Sheet</a
        >
      </li>
      <li>
        <a
          href="https://github.com/arslanbilal/git-cheat-sheet/blob/master/other-sheets/git-cheat-sheet-es.md"
          >Spanish Git Cheat Sheet</a
        >
      </li>
    </ol>
    <p>Git cheat sheet 让你不用再去记所有的git命令。</p>
    <p>欢迎贡献内容、更新语法错误，也欢迎添加你母语版本的Git cheat sheet。</p>
    <hr />
    <h1 id="git-cheat-sheet-中文版">Git Cheat Sheet 中文版</h1>
    <h3 id="索引">索引</h3>
    <ul>
      <li><a href="#配置">配置</a></li>
      <li><a href="#配置文件">配置文件</a></li>
      <li><a href="#创建">创建</a></li>
      <li><a href="#本地修改">本地修改</a></li>
      <li><a href="#搜索">搜索</a></li>
      <li><a href="#提交历史">提交历史</a></li>
      <li><a href="#分支与标签">分支与标签</a></li>
      <li><a href="#更新与发布">更新与发布</a></li>
      <li><a href="#合并与重置">合并与重置</a></li>
      <li><a href="#撤销">撤销</a></li>
      <li><a href="#git-flow">Git Flow</a></li>
    </ul>
    <hr />
    <h3 id="配置">配置</h3>
    <h5 id="列出当前配置">列出当前配置：</h5>
    <pre><code>$ git config --list</code></pre>
    <h5 id="列出repository配置">列出repository配置：</h5>
    <pre><code>$ git config --local --list</code></pre>
    <h5 id="列出全局配置">列出全局配置：</h5>
    <pre><code>$ git config --global --list</code></pre>
    <h5 id="列出系统配置">列出系统配置：</h5>
    <pre><code>$ git config --system --list</code></pre>
    <h5 id="设置用户名">设置用户名：</h5>
    <pre><code>$ git config --global user.name “[firstname lastname]”</code></pre>
    <h5 id="设置用户邮箱">设置用户邮箱：</h5>
    <pre><code>$ git config --global user.email “[valid-email]”</code></pre>
    <h5 id="设置git命令输出为彩色">设置git命令输出为彩色：</h5>
    <pre><code>$ git config --global color.ui auto</code></pre>
    <h5 id="设置git使用的文本编辑器设">设置git使用的文本编辑器设：</h5>
    <pre><code>$ git config --global core.editor vi</code></pre>
    <hr />
    <h3 id="配置文件">配置文件</h3>
    <h5 id="repository配置对应的配置文件路径local">
      Repository配置对应的配置文件路径[–local]：
    </h5>
    <pre><code>&lt;repo&gt;/.git/config</code></pre>
    <h5 id="用户全局配置对应的配置文件路径global">
      用户全局配置对应的配置文件路径[–global]：
    </h5>
    <pre><code>~/.gitconfig</code></pre>
    <h5 id="系统配置对应的配置文件路径local">
      系统配置对应的配置文件路径[–local]：
    </h5>
    <pre><code>/etc/gitconfig</code></pre>
    <hr />
    <h3 id="创建">创建</h3>
    <h5 id="复制一个已创建的仓库">复制一个已创建的仓库:</h5>
    <div class="sourceCode" id="cb12">
      <pre
        class="sourceCode bash"
      ><code class="sourceCode bash"><a class="sourceLine" id="cb12-1" title="1"><span class="co"># 通过 SSH</span></a>
<a class="sourceLine" id="cb12-2" title="2">$ <span class="fu">git</span> clone ssh://user@domain.com/repo.git</a>
<a class="sourceLine" id="cb12-3" title="3"></a>
<a class="sourceLine" id="cb12-4" title="4"><span class="co">#通过 HTTP</span></a>
<a class="sourceLine" id="cb12-5" title="5">$ <span class="fu">git</span> clone http://domain.com/user/repo.git</a></code></pre>
    </div>
    <h5 id="创建一个新的本地仓库">创建一个新的本地仓库:</h5>
    <pre><code>$ git init</code></pre>
    <hr />
    <h3 id="本地修改">本地修改</h3>
    <h5 id="显示工作路径下已修改的文件">显示工作路径下已修改的文件：</h5>
    <pre><code>$ git status</code></pre>
    <h5 id="显示与上次提交版本文件的不同">显示与上次提交版本文件的不同：</h5>
    <pre><code>$ git diff</code></pre>
    <h5 id="把当前所有修改添加到下次提交中">
      把当前所有修改添加到下次提交中：
    </h5>
    <pre><code>$ git add .</code></pre>
    <h5 id="把对某个文件的修改添加到下次提交中">
      把对某个文件的修改添加到下次提交中：
    </h5>
    <pre><code>$ git add -p &lt;file&gt;</code></pre>
    <h5 id="提交本地的所有修改">提交本地的所有修改：</h5>
    <pre><code>$ git commit -a</code></pre>
    <h5 id="提交之前已标记的变化">提交之前已标记的变化：</h5>
    <pre><code>$ git commit</code></pre>
    <h5 id="附加消息提交">附加消息提交：</h5>
    <pre><code>$ git commit -m &#39;message here&#39;</code></pre>
    <h5 id="提交并将提交时间设置为之前的某个日期">
      提交，并将提交时间设置为之前的某个日期:
    </h5>
    <pre><code>git commit --date=&quot;`date --date=&#39;n day ago&#39;`&quot; -am &quot;Commit Message&quot;</code></pre>
    <h5 id="修改上次提交">修改上次提交</h5>
    <p>
      <em><sub>请勿修改已发布的提交记录!</sub></em>
    </p>
    <pre><code>$ git commit --amend</code></pre>
    <h5 id="修改上次提交的committer-date">修改上次提交的committer date：</h5>
    <pre><code>GIT_COMMITTER_DATE=&quot;date&quot; git commit --amend</code></pre>
    <h5 id="修改上次提交的author-date">修改上次提交的author date：</h5>
    <pre><code>git commit --amend --date=&quot;date&quot;</code></pre>
    <h5 id="把当前分支中未提交的修改移动到其他分支">
      把当前分支中未提交的修改移动到其他分支：
    </h5>
    <pre><code>git stash
git checkout branch2
git stash pop</code></pre>
    <h5 id="将-stashed-changes-应用到当前分支">
      将 stashed changes 应用到当前分支：
    </h5>
    <pre><code>git stash apply</code></pre>
    <h5 id="删除最新一次的-stashed-changes">
      删除最新一次的 stashed changes：
    </h5>
    <pre><code>git stash drop</code></pre>
    <h3 id="提交历史">提交历史</h3>
    <h5 id="从最新提交开始显示所有的提交记录显示hash-作者信息提交的标题和时间">
      从最新提交开始，显示所有的提交记录（显示hash，
      作者信息，提交的标题和时间）：
    </h5>
    <pre><code>$ git log</code></pre>
    <h5 id="显示所有提交仅显示提交的hash和message">
      显示所有提交（仅显示提交的hash和message）：
    </h5>
    <pre><code>$ git log --oneline</code></pre>
    <h5 id="显示某个用户的所有提交">显示某个用户的所有提交：</h5>
    <pre><code>$ git log --author=&quot;username&quot;</code></pre>
    <h5 id="显示某个文件的所有修改">显示某个文件的所有修改：</h5>
    <pre><code>$ git log -p &lt;file&gt;</code></pre>
    <h5 id="仅显示远端分支与远端分支提交记录的差集">
      仅显示远端<remote/master>分支与远端<origin/master>分支提交记录的差集：
    </h5>
    <pre><code>$ git log --oneline &lt;origin/master&gt;..&lt;remote/master&gt; --left-right</code></pre>
    <h5 id="谁在什么时间修改了文件的什么内容">
      谁，在什么时间，修改了文件的什么内容：
    </h5>
    <pre><code>$ git blame &lt;file&gt;</code></pre>
    <h5 id="显示reflog">显示reflog：</h5>
    <pre><code>$ git reflog show </code></pre>
    <h5 id="删除reflog">删除reflog：</h5>
    <pre><code>$ git reflog delete</code></pre>
    <h3 id="更新与发布">更新与发布</h3>
    <h5 id="列出当前配置的远程端">列出当前配置的远程端：</h5>
    <pre><code>$ git remote -v</code></pre>
    <h5 id="显示远程端的信息">显示远程端的信息：</h5>
    <pre><code>$ git remote show &lt;remote&gt;</code></pre>
    <h5 id="添加新的远程端">添加新的远程端：</h5>
    <pre><code>$ git remote add &lt;remote&gt; &lt;url&gt;</code></pre>
    <h5 id="下载远程端版本但不合并到head中">
      下载远程端版本，但不合并到HEAD中：
    </h5>
    <pre><code>$ git fetch &lt;remote&gt;</code></pre>
    <h5 id="下载远程端版本并自动与head版本合并">
      下载远程端版本，并自动与HEAD版本合并：
    </h5>
    <pre><code>$ git remote pull &lt;remote&gt; &lt;url&gt;</code></pre>
    <h5 id="将远程端版本合并到本地版本中">将远程端版本合并到本地版本中：</h5>
    <pre><code>$ git pull origin master</code></pre>
    <h5 id="以rebase方式将远端分支与本地合并">
      以rebase方式将远端分支与本地合并：
    </h5>
    <pre><code>git pull --rebase &lt;remote&gt; &lt;branch&gt;</code></pre>
    <h5 id="将本地版本发布到远程端">将本地版本发布到远程端：</h5>
    <pre><code>$ git push remote &lt;remote&gt; &lt;branch&gt;</code></pre>
    <h5 id="删除远程端分支">删除远程端分支：</h5>
    <pre><code>$ git push &lt;remote&gt; :&lt;branch&gt; (since Git v1.5.0)
or
git push &lt;remote&gt; --delete &lt;branch&gt; (since Git v1.7.0)</code></pre>
    <h5 id="发布标签">发布标签:</h5>
    <pre><code>$ git push --tags</code></pre>
    <h3 id="撤销">撤销</h3>
    <h5 id="放弃工作目录下的所有修改">放弃工作目录下的所有修改：</h5>
    <pre><code>$ git reset --hard HEAD</code></pre>
    <h5 id="移除缓存区的所有文件i.e.-撤销上次git-add">
      移除缓存区的所有文件（i.e. 撤销上次<code>git add</code>）:
    </h5>
    <pre><code>$ git reset HEAD</code></pre>
    <h5 id="放弃某个文件的所有本地修改">放弃某个文件的所有本地修改：</h5>
    <pre><code>$ git checkout HEAD &lt;file&gt;</code></pre>
    <h5 id="重置一个提交通过创建一个截然不同的新提交">
      重置一个提交（通过创建一个截然不同的新提交）
    </h5>
    <pre><code>$ git revert &lt;commit&gt;</code></pre>
    <h5 id="将head重置到指定的版本并抛弃该版本之后的所有修改">
      将HEAD重置到指定的版本，并抛弃该版本之后的所有修改：
    </h5>
    <pre><code>$ git reset --hard &lt;commit&gt;</code></pre>
    <h5 id="用远端分支强制覆盖本地分支">用远端分支强制覆盖本地分支：</h5>
    <pre><code>git reset --hard &lt;remote/branch&gt; e.g., upstream/master, origin/my-feature</code></pre>
    <h5
      id="将head重置到上一次提交的版本并将之后的修改标记为未添加到缓存区的修改"
    >
      将HEAD重置到上一次提交的版本，并将之后的修改标记为未添加到缓存区的修改：
    </h5>
    <pre><code>$ git reset &lt;commit&gt;</code></pre>
    <h5 id="将head重置到上一次提交的版本并保留未提交的本地修改">
      将HEAD重置到上一次提交的版本，并保留未提交的本地修改：
    </h5>
    <pre><code>$ git reset --keep &lt;commit&gt;</code></pre>
    <h5 id="删除添加.gitignore文件前错误提交的文件">
      删除添加<code>.gitignore</code>文件前错误提交的文件：
    </h5>
    <pre><code>$ git rm -r --cached .
$ git add .
$ git commit -m &quot;remove xyz file&quot;</code></pre>
    <hr />
    <h2 id="git-flow">Git-Flow</h2>
    <h3 id="索引-1">索引</h3>
    <ul>
      <li><a href="#安装">安装</a></li>
      <li><a href="#开始">开始</a></li>
      <li><a href="#特性">特性</a></li>
      <li><a href="#做一个release版本">做一个release版本</a></li>
      <li><a href="#紧急修复">紧急修复</a></li>
      <li><a href="#commands">Commands</a></li>
    </ul>
    <hr />
    <h3 id="安装">安装</h3>
    <ul>
      <li>你需要有一个可以工作的 git 作为前提。</li>
      <li>Git flow 可以工作在 OSX, Linux 和 Windows之下</li>
    </ul>
    <h5 id="osx-homebrew">OSX Homebrew:</h5>
    <pre><code>$ brew install git-flow</code></pre>
    <h5 id="osx-macports">OSX Macports:</h5>
    <pre><code>$ port install git-flow</code></pre>
    <h5 id="linux">Linux:</h5>
    <pre><code>$ apt-get install git-flow</code></pre>
    <h5 id="windows-cygwin">Windows (Cygwin):</h5>
    <p>安装 git-flow, 你需要 wget 和 util-linux。</p>
    <pre><code>$ wget -q -O - --no-check-certificate https://github.com/nvie/gitflow/raw/develop/contrib/gitflow-installer.sh | bash</code></pre>
    <hr />
    <h3 id="开始">开始</h3>
    <ul>
      <li>为了自定义你的项目，Git flow 需要初始化过程。</li>
      <li>使用 git-flow，从初始化一个现有的 git 库内开始。</li>
      <li>初始化，你必须回答几个关于分支的命名约定的问题。建议使用默认值。</li>
    </ul>
    <pre><code>git flow init</code></pre>
    <hr />
    <h3 id="特性">特性</h3>
    <ul>
      <li>为即将发布的版本开发新功能特性。</li>
      <li>这通常只存在开发者的库中。</li>
    </ul>
    <h5 id="创建一个新特性">创建一个新特性:</h5>
    <p>下面操作创建了一个新的feature分支，并切换到该分支</p>
    <pre><code>git flow feature start MYFEATURE</code></pre>
    <h5 id="完成新特性的开发">完成新特性的开发:</h5>
    <p>
      完成开发新特性。这个动作执行下面的操作： 1. 合并 MYFEATURE 分支到
      ‘develop’ 2. 删除这个新特性分支 3. 切换回 ‘develop’ 分支
    </p>
    <pre><code>git flow feature finish MYFEATURE</code></pre>
    <h5 id="发布新特性">发布新特性:</h5>
    <p>
      你是否合作开发一项新特性？
      发布新特性分支到远程服务器，所以，其它用户也可以使用这分支。
    </p>
    <pre><code>git flow feature publish MYFEATURE</code></pre>
    <h5 id="取得一个发布的新特性分支">取得一个发布的新特性分支:</h5>
    <p>取得其它用户发布的新特性分支。</p>
    <pre><code>git flow feature pull origin MYFEATURE</code></pre>
    <h5 id="追溯远端上的特性">追溯远端上的特性:</h5>
    <p>通过下面命令追溯远端上的特性</p>
    <pre><code>git flow feature track MYFEATURE</code></pre>
    <hr />
    <h3 id="做一个release版本">做一个release版本</h3>
    <ul>
      <li>支持一个新的用于生产环境的发布版本。</li>
      <li>允许修正小问题，并为发布版本准备元数据。</li>
    </ul>
    <h5 id="开始创建release版本">开始创建release版本:</h5>
    <ul>
      <li>开始创建release版本，使用 git flow release 命令。</li>
      <li>‘release’ 分支的创建基于 ‘develop’ 分支。</li>
      <li>
        你可以选择提供一个 [BASE]参数，即提交记录的 sha-1 hash 值，来开启动
        release 分支。
      </li>
      <li>这个提交记录的 sha-1 hash 值必须是’develop’ 分支下的。</li>
    </ul>
    <pre><code>git flow release start RELEASE [BASE]</code></pre>
    <p>
      创建 release 分支之后立即发布允许其它用户向这个 release
      分支提交内容是个明智的做法。命令十分类似发布新特性：
    </p>
    <pre><code>git flow release publish RELEASE</code></pre>
    <p>
      (你可以通过 <code>git flow release track RELEASE</code> 命令追溯远端的
      release 版本)
    </p>
    <h5 id="完成-release-版本">完成 release 版本:</h5>
    <p>
      完成 release 版本是一个大 git 分支操作。它执行下面几个动作： 1. 归并
      release 分支到 ‘master’ 分支。 2. 用 release 分支名打 Tag 3. 归并 release
      分支到 ‘develop’ 4. 移除 release 分支。
    </p>
    <pre><code>git flow release finish RELEASE</code></pre>
    <p>不要忘记使用<code>git push --tags</code>将tags推送到远端</p>
    <hr />
    <h3 id="紧急修复">紧急修复</h3>
    <p>
      紧急修复来自这样的需求：生产环境的版本处于一个不预期状态，需要立即修正。有可能是需要修正
      master 分支上某个 TAG 标记的生产版本。
    </p>
    <h5 id="开始-git-flow-紧急修复">开始 git flow 紧急修复:</h5>
    <p>像其它 git flow 命令一样, 紧急修复分支开始自：</p>
    <pre><code>$ git flow hotfix start VERSION [BASENAME]</code></pre>
    <p>
      VERSION 参数标记着修正版本。你可以从
      <code>[BASENAME]开始，</code>[BASENAME]`为finish release时填写的版本号
    </p>
    <h5 id="完成紧急修复">完成紧急修复:</h5>
    <p>
      当完成紧急修复分支，代码归并回 develop 和 master 分支。相应地，master
      分支打上修正版本的 TAG。
    </p>
    <pre><code>git flow hotfix finish VERSION</code></pre>
    <hr />
    <h3 id="commands">Commands</h3>
    <p align="center">
      <img
        alt="Git"
        src="../Img/git-flow-commands.png"
        height="270"
        width="460"
      />
    </p>
    <hr />
    <h3 id="git-flow-schema">Git flow schema</h3>
    <p align="center">
      <img alt="Git" src="../Img/git-flow-commands-without-flow.png" />
    </p>
    <hr />
  </body>
</html>
